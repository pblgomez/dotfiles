#!/bin/sh

############################################################
# Read by ligthdm sddm, etc and sourced from xinit
############################################################

# xrandr --setprovideroutputsource modesetting NVIDIA-0
# xrandr --auto

# wallpaper
if [ -f ~/.cache/bg ]; then
  sleep 4; xwallpaper --zoom ~/.cache/bg &
else
  cp $(find $(pwd)/Pictures/Wallpapers -type f | sort -R |head -n1) ~/.cache/bg && convert -resize 1920 -blur 30x30 ~/.cache/bg ~/.cache/bg.png && xwallpaper --zoom ~/.cache/bg &
fi

#QT appeareance, you have to install qt5ct and kvantum
export QT_QPA_PLATFORMTHEME="qt5ct"

# PATH envs
export XDG_CACHE_HOME="$HOME/.cache"
export LESSKEY="$XDG_CONFIG_HOME"/less/lesskey
export LESSHISTFILE=-
export GTK2_RC_FILES="$XDG_CONFIG_HOME"/gtk-2.0/gtkrc
export NPM_CONFIG_USERCONFIG=$XDG_CONFIG_HOME/npm/npmrc
export NVM_DIR="$XDG_DATA_HOME"/nvm

export LC_CTYPE="en_US.UTF-8" # Para que aparezcan los acentos

# Bitwarden
export BW_SESSION=$(cat ~/.config/Bitwarden\ CLI/.env)

# Clipmenu
export CM_MAX_CLIPS=10    # Maximun remembered clipboards

# XDG mime types
xdg-mime default org.pwmt.zathura.desktop application/pdf

# apps at startup
blueman-applet &
xsetroot -cursor_name arrow &
autorandr-launcher &
dunst &
kdeconnect-indicator &
udiskie &
xbanish &
~/.local/bin/touchpad-enable.sh &
redshift &
autorandr -c &
/usr/lib/kdeconnectd &
xrdb -load ~/.config/X11/xresources
clipmenud &
# optimus-manager-qt
